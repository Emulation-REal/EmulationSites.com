<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>iistuipd Menu Test</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Orbitron&display=swap');
  body {
    margin: 0; padding: 0; background: #0a0a0a; 
    font-family: 'Orbitron', monospace;
    user-select: none;
    overflow: hidden;
  }
  #modMenu {
    position: fixed;
    top: 100px;
    left: 100px;
    width: 360px;
    height: 460px;
    background: #111;
    border: 2px solid #00aaff;
    border-radius: 8px;
    box-shadow: 0 0 12px #00aaffcc;
    color: #00ccff;
    display: flex;
    flex-direction: column;
    user-select: none;
    z-index: 9999;
  }
  #modMenu.hidden {
    display: none;
  }
  #menuHeader {
    background: #001f33;
    padding: 12px;
    font-size: 22px;
    font-weight: 700;
    cursor: grab;
    text-align: center;
    border-bottom: 2px solid #00aaff;
    box-shadow: 0 0 12px #00aaffcc inset;
  }
  #categoryTabs {
    display: flex;
    background: #002a44;
    border-bottom: 2px solid #00aaff;
  }
  .tab {
    flex: 1;
    text-align: center;
    padding: 10px 0;
    cursor: pointer;
    font-weight: 700;
    border-right: 1px solid #004466;
    transition: background 0.25s;
  }
  .tab:last-child {
    border-right: none;
  }
  .tab.active, .tab:hover {
    background: #005f9e;
    box-shadow: 0 0 8px #00aaffcc inset;
  }
  #modList {
    flex: 1;
    overflow-y: auto;
    padding: 12px;
  }
  .modBtn {
    background: #002a44;
    border: 1.5px solid #00aaff;
    border-radius: 6px;
    margin-bottom: 10px;
    padding: 10px;
    font-size: 16px;
    cursor: pointer;
    color: #00ccff;
    box-shadow: 0 0 6px #0088cc99;
    transition: all 0.3s ease;
    user-select: none;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .modBtn:hover {
    background: #004977;
    box-shadow: 0 0 12px #00ccff;
  }
  .modBtn.active {
    background: #0088cc;
    box-shadow: 0 0 18px #00e6ff;
    color: #001f26;
    font-weight: 700;
  }
  .toggleCircle {
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: #002a44;
    border: 1.5px solid #00aaff;
    transition: background 0.3s;
  }
  .modBtn.active .toggleCircle {
    background: #00e6ff;
    box-shadow: 0 0 10px #00e6ff;
  }
  /* Scrollbar */
  #modList::-webkit-scrollbar {
    width: 8px;
  }
  #modList::-webkit-scrollbar-track {
    background: #001a2e;
  }
  #modList::-webkit-scrollbar-thumb {
    background: #00aaff;
    border-radius: 4px;
  }
  /* Tooltip style */
  .tooltip {
    position: relative;
  }
  .tooltip:hover::after {
    content: attr(data-tip);
    position: absolute;
    bottom: 110%;
    left: 50%;
    transform: translateX(-50%);
    background: #005f9e;
    padding: 6px 10px;
    border-radius: 6px;
    font-size: 12px;
    white-space: nowrap;
    box-shadow: 0 0 6px #00aaffcc;
    color: #00e6ff;
    pointer-events: none;
    opacity: 1;
    transition: opacity 0.3s;
    z-index: 10000;
  }
</style>
</head>
<body>

<div id="modMenu" class="hidden" role="dialog" aria-label="iistuipd Mod Menu">
  <div id="menuHeader" aria-grabbed="false">iistuipd Menu</div>
  <div id="categoryTabs" role="tablist" aria-label="Mod Categories">
    <div class="tab active" role="tab" tabindex="0" aria-selected="true" data-category="movement">Movement</div>
    <div class="tab" role="tab" tabindex="0" aria-selected="false" data-category="visuals">Visuals</div>
    <div class="tab" role="tab" tabindex="0" aria-selected="false" data-category="misc">Misc</div>
  </div>
  <div id="modList" role="tabpanel" tabindex="0"></div>
</div>

<script>
(() => {
  const menu = document.getElementById('modMenu');
  const header = document.getElementById('menuHeader');
  const tabs = [...document.querySelectorAll('.tab')];
  const modList = document.getElementById('modList');
  let isDragging = false;
  let dragOffsetX = 0;
  let dragOffsetY = 0;
  let activeCategory = 'movement';

  // Data: 12 mods per category with descriptions
  const mods = {
    movement: [
      {name: 'Jetpack', tip: 'Fly through the air with a jetpack.'},
      {name: 'Sprint Boost', tip: 'Run faster than normal.'},
      {name: 'NoClip', tip: 'Pass through walls and objects.'},
      {name: 'Auto Climb', tip: 'Automatically climb ledges.'},
      {name: 'Wall Run', tip: 'Run along walls.'},
      {name: 'Jump Boost', tip: 'Jump higher than normal.'},
      {name: 'Dash', tip: 'Quick dash forward.'},
      {name: 'Hover', tip: 'Hover in place while jumping.'},
      {name: 'Step Assist', tip: 'Automatically step over obstacles.'},
      {name: 'Speed Hack', tip: 'Modify your movement speed.'},
      {name: 'Infinite Stamina', tip: 'Never run out of stamina.'},
      {name: 'Gravity Modifier', tip: 'Change gravity strength.'}
    ],
    visuals: [
      {name: 'Wallhack', tip: 'See through walls.'},
      {name: 'Chams', tip: 'Colored player models.'},
      {name: 'ESP', tip: 'Show player info and positions.'},
      {name: 'Glow', tip: 'Add glow effect to players.'},
      {name: 'Rainbow Hands', tip: 'Cycle hand colors.'},
      {name: 'Night Vision', tip: 'See better in dark areas.'},
      {name: 'Particle Effects', tip: 'Add particles to your movements.'},
      {name: 'No Fog', tip: 'Remove fog effects.'},
      {name: 'Custom Skybox', tip: 'Change sky appearance.'},
      {name: 'Third Person', tip: 'Switch to third-person camera.'},
      {name: 'Outline', tip: 'Outline nearby objects.'},
      {name: 'Animated Menu', tip: 'Add animations to menu.'}
    ],
    misc: [
      {name: 'Auto Grab', tip: 'Automatically grab objects.'},
      {name: 'Anti AFK', tip: 'Prevent being kicked for inactivity.'},
      {name: 'Auto Rejoin', tip: 'Automatically rejoin after disconnect.'},
      {name: 'Name Changer', tip: 'Change your displayed name.'},
      {name: 'Mute All', tip: 'Mute all other players.'},
      {name: 'Auto Emote', tip: 'Automatically perform emotes.'},
      {name: 'Chat Spam', tip: 'Spam chat with messages.'},
      {name: 'Invisible Mode', tip: 'Become invisible to others.'},
      {name: 'Teleport', tip: 'Instantly teleport to a location.'},
      {name: 'Infinite Ammo', tip: 'Never run out of ammo (if applicable).'},
      {name: 'Server Info', tip: 'Show server information.'},
      {name: 'Debug Mode', tip: 'Enable debug info overlay.'}
    ]
  };

  // Store toggle states
  let toggleStates = {
    movement: new Array(mods.movement.length).fill(false),
    visuals: new Array(mods.visuals.length).fill(false),
    misc: new Array(mods.misc.length).fill(false),
  };

  // Build mod buttons
  function buildModButtons(category) {
    modList.innerHTML = '';
    mods[category].forEach((mod, i) => {
      const btn = document.createElement('button');
      btn.className = 'modBtn tooltip';
      btn.type = 'button';
      btn.setAttribute('aria-pressed', toggleStates[category][i]);
      btn.setAttribute('data-tip', mod.tip);
      btn.textContent = mod.name;

      const toggleCircle = document.createElement('span');
      toggleCircle.className = 'toggleCircle';
      btn.appendChild(toggleCircle);

      if (toggleStates[category][i]) {
        btn.classList.add('active');
      }

      btn.addEventListener('click', () => {
        toggleStates[category][i] = !toggleStates[category][i];
        btn.classList.toggle('active');
        btn.setAttribute('aria-pressed', toggleStates[category][i]);
        // Placeholder: here you would trigger the actual mod toggle functions
        console.log(`Mod "${mod.name}" toggled to ${toggleStates[category][i]}`);
      });
      modList.appendChild(btn);
    });
  }

  // Tab click handler
  function switchCategory(newCat) {
    if (activeCategory === newCat) return;
    activeCategory = newCat;
    tabs.forEach(tab => {
      const isActive = tab.dataset.category === newCat;
      tab.classList.toggle('active', isActive);
      tab.setAttribute('aria-selected', isActive);
      if (isActive) tab.focus();
    });
    buildModButtons(newCat);
  }

  // Handle tab keyboard navigation
  tabs.forEach(tab => {
    tab.addEventListener('click', () => switchCategory(tab.dataset.category));
    tab.addEventListener('keydown', e => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        switchCategory(tab.dataset.category);
      }
      if (e.key === 'ArrowRight' || e.key === 'ArrowLeft') {
        e.preventDefault();
        const idx = tabs.indexOf(e.target);
        let newIdx = idx + (e.key === 'ArrowRight' ? 1 : -1);
        if (newIdx < 0) newIdx = tabs.length - 1;
        if (newIdx >= tabs.length) newIdx = 0;
        tabs[newIdx].focus();
      }
    });
  });

  // Drag functionality
  header.addEventListener('mousedown', (e) => {
    isDragging = true;
    dragOffsetX = e.clientX - menu.offsetLeft;
    dragOffsetY = e.clientY - menu.offsetTop;
    header.style.cursor = 'grabbing';
    header.setAttribute('aria-grabbed', 'true');
  });
  document.addEventListener('mouseup', () => {
    isDragging = false;
    header.style.cursor = 'grab';
    header.setAttribute('aria-grabbed', 'false');
  });
  document.addEventListener('mousemove', (e) => {
    if (!isDragging) return;
    let newX = e.clientX - dragOffsetX;
    let newY = e.clientY - dragOffsetY;
    // Clamp inside viewport
    const maxX = window.innerWidth - menu.offsetWidth;
    const maxY = window.innerHeight - menu.offsetHeight;
    if (newX < 0) newX = 0;
    if (newY < 0) newY = 0;
    if (newX > maxX) newX = maxX;
    if (newY > maxY) newY = maxY;
    menu.style.left = newX + 'px';
    menu.style.top = newY + 'px';
  });

  // Toggle menu visibility with ';'
  window.addEventListener('keydown', (e) => {
    if (e.key === ';' && !e.repeat) {
      if (menu.classList.contains('hidden')) {
        menu.classList.remove('hidden');
        // Focus first tab on open for accessibility
        tabs[0].focus();
      } else {
        menu.classList.add('hidden');
      }
    }
  });

  // Initial build
  buildModButtons(activeCategory);
})();
</script>

</body>
</html>
